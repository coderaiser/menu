var MenuProto,Util;!function(e){"use strict";function t(){var e=this;this.exec=function(t){var n,i=e.slice(arguments,1);return e.isFunction(t)&&(n=t.apply(null,i)),n},this.isType=function(e,t){return typeof e===t},this.isFunction=function(t){return e.isType(t,"function")},this.isObject=function(t){return e.isType(t,"object")},this.slice=function(e,t){var n;return e&&(n=[].slice.call(e,t)),n},this.render=function(t,n){var i,r=!0,u="\\s*",s=["{{"+u,u+"}}"];return i=e.ownRender(t,n,s,r)},this.ownRender=function(t,n,i,r){var u,s,a,c,o,l=t;c=i[0],o=i[1]||c;for(s in n)u=n[s],u=e.exec(u)||u,a=c+s+o,l=e.replaceStr(l,a,u,r);return a=c+".*"+o,l=e.replaceStr(l,a,"",r)},this.replaceStr=function(t,n,i,r){var u=t;return t&&n&&(r||(n=e.escapeRegExp(n)),u=t.replace(new RegExp(n,"g"),i)),u},this.escapeRegExp=function(t){var n=t,i=e.isString(t);return i&&(n=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),n}}var n=e.window?window:global;"object"==typeof module&&module.exports?module.exports=new t:n.Util||(n.Util=new t)}(this),function(e){"use strict";function t(){function e(e){var t;return e&&(t=n(e),n&&(e=e.parentElement)),e}function t(e){var t;return e&&(t=n(e),t||(e=e.querySelector("[data-menu-path]"))),e}function n(e){var t;return e&&(t=e.hasAttribute("data-menu-path")),t}function i(e){var t,n,i="data-menu",r="js-submenu";return e&&(t=e.getAttribute(i),n=t===r),n}this.getItem=e,this.getName=t,this.isName=n,this.isSubMenu=i}MenuProto=function(n,i){function r(){var e,t=Util.isObject(i);t||(e=i,i={},i[e]=null),m=u(i),f.addEventListener("click",s),f.addEventListener("contextmenu",a)}function u(e){var t,n="",i="",r=function(e,t){var n,i,u,s,a,c,o,l='data-menu="js-submenu"',m="";t?t+=".":t="";for(n in e)s="",a="",c="",o=t+n,u=e[n],i=Util.isObject(u),i?(s=Util.render(v.MAIN,{items:r(u,o)}),a=" menu-submenu",c=" "+l):h[o]=u,m+=Util.render(v.ITEM,{name:n,subitems:s,className:a,attribute:c,path:o});return m};return i=r(e),n=Util.render(v.MAIN,{items:i}),d.innerHTML+=n,t=d.querySelector("#js-menu")}function s(e){var t,n=p.getItem(e.target),i=p.isSubMenu(n);i?e.preventDefault():(o(),t=l(n),Util.exec(t))}function a(e){var t,n,i=e.target,r=e.x,u=e.y;o(),m.style.left=r-5+".px",m.style.top=u-5+".px",n=p.isName(i),n?(t=l(i),t&&Util.exec(t)):c(),e.preventDefault()}function c(){m.classList.remove("menu-hidden")}function o(){m.classList.add("menu-hidden")}function l(e){var t,n;return e=p.getName(e),e&&(t=e.getAttribute("data-menu-path")),n=h[t]}var m,d,f,p=new t,h={},v={MAIN:'<ul id="js-menu" class="menu menu-hidden">{{ items }}</ul>',ITEM:'<li id="js-menu-{{ name }}" class="menu-item{{ className }}"{{ attribute }}><label data-menu-path={{ path }}>{{ name }}</label>{{ subitems }}</li>'};i?d=f=n:(d=document.body,f=e,i=n),this.show=c,this.hide=o,r()}}(window);