var MenuProto,Util;!function(e){"use strict";function t(){function e(e){var t;return e&&(t=n(e),t&&(e=e.parentElement)),e}function t(e){var t;return e&&(t=n(e),t||(e=e.querySelector("[data-menu-path]"))),e}function n(e){var t;return e&&(t=e.hasAttribute("data-menu-path")),t}function i(e){var t=a(e,"js-menu-item");return t}function u(e){var t=a(e,"js-menu");return t}function a(e,t,n){var i,u;return n||(n="data-name"),e&&(u=e.getAttribute(n),u===t&&(i=!0)),i}function r(t){var n,i,u="data-menu",r="js-submenu";return i=e(t),n=a(i,r,u)}this.getItem=e,this.getName=t,this.isName=n,this.isItem=i,this.isMenu=u,this.isSubMenu=r}MenuProto=function(n,i,u){function a(){var e,t=Util.isObject(u);t||(e=u,u={},u[e]=null),b=r(u),p.addEventListener("click",m),p.addEventListener("contextmenu",c)}function r(e){var t,n="",i="",u=function(e,t){var n,i,a,r,s,m,c,o='data-menu="js-submenu"',l="";t?t+=".":t="";for(n in e)r="",s="",m="",c=t+n,a=e[n],i=Util.isObject(a),i?(r=Util.render(I.MAIN,{items:u(a,c)}),s=" menu-submenu",m=" "+o):N[c]=a,h&&h.icon&&(s+=" icon icon-"+n),l+=Util.render(I.ITEM,{name:n,subitems:r,className:s,attribute:m,path:c});return l};return i=u(e),n=Util.render(I.MAIN,{items:i}),v.innerHTML+=n,t=v.querySelector('[data-name="js-menu"]')}function s(e,t){var n,i=M.getItem(e),u=M.isName(i),a=M.isItem(i),r=M.isSubMenu(i);return u&&a||(i=document.elementFromPoint(t.x,t.y),r=M.isSubMenu(i),u=M.isName(i),a=M.isItem(i)),n={name:u,item:a,sub:r}}function m(e,t){var n,i=e.target,u=t||s(i,{x:e.clientX,y:e.clientY});u.sub?e.preventDefault():(d(),(u.name||u.item)&&(n=f(i),Util.exec(n)))}function c(e){var t=e.target,n=e.clientX,i=e.clientY,u=s(t,{x:n,y:i});u.name||u.item||u.sub?m(e,u):(o(n,i),l()),e.preventDefault()}function o(e,t){Util.isNumber(e)&&(b.style.left=e+"px"),Util.isNumber(e)&&(b.style.top=t-15+"px")}function l(e,t){o(e,t),b.classList.remove("menu-hidden")}function d(){b.classList.add("menu-hidden")}function f(e){var t,n;return e=M.getName(e),e&&(t=e.getAttribute("data-menu-path")),n=N[t]}var b,v,h,p,M=new t,N={},I={MAIN:'<ul data-name="js-menu" class="menu menu-hidden">{{ items }}</ul>',ITEM:'<li data-name="js-menu-item" class="menu-item{{ className }}"{{ attribute }}><label data-menu-path={{ path }}>{{ name }}</label>{{ subitems }}</li>'};u?(v=p=n,h=i):(v=document.body,p=e,i&&(u=i)),this.show=l,this.hide=d,a()}}(window);
!function(e){"use strict";function n(){var e=this;this.exec=function(n){var t,r=e.slice(arguments,1);return e.isFunction(n)&&(t=n.apply(null,r)),t},this.isType=function(e,n){return typeof e===n},this.isFunction=function(n){return e.isType(n,"function")},this.isObject=function(n){return e.isType(n,"object")},this.isNumber=function(n){return e.isType(n,"number")},this.slice=function(e,n){var t;return e&&(t=[].slice.call(e,n)),t},this.render=function(n,t){var r,i=!0,s="\\s*",u=["{{"+s,s+"}}"];return r=e.ownRender(n,t,u,i)},this.ownRender=function(n,t,r,i){var s,u,c,o,l,p=n;o=r[0],l=r[1]||o;for(u in t)s=t[u],s=e.exec(s)||s,c=o+u+l,p=e.replaceStr(p,c,s,i);return c=o+".*"+l,p=e.replaceStr(p,c,"",i)},this.replaceStr=function(n,t,r,i){var s=n;return n&&t&&(i||(t=e.escapeRegExp(t)),s=n.replace(new RegExp(t,"g"),r)),s},this.escapeRegExp=function(n){var t=n,r=e.isString(n);return r&&(t=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t}}var t=e.window?window:global;"object"==typeof module&&module.exports?module.exports=new n:t.Util||(t.Util=new n)}(this);